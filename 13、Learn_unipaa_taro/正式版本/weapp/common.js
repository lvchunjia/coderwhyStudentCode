"use strict";(wx["webpackJsonp"]=wx["webpackJsonp"]||[]).push([[592],{9094:function(e,n,t){t.d(n,{ZP:function(){return C},$t:function(){return y},vk:function(){return w},_m:function(){return Z},MJ:function(){return T},VF:function(){return b}});var r=t(2276),a=t(9301),u=t(5308),o=t(3211),s=t(7042),c=t(4460),i=t(2954),p=t.n(i),f="http://codercba.com:9060/juanpi/api",d=1e4,l=function(){function e(){(0,s.Z)(this,e)}return(0,c.Z)(e,[{key:"request",value:function(e,n,t){return new Promise((function(r,a){p().request({url:f+e,timeout:d,method:n,data:t,success:function(e){r(e.data)},fail:a})}))}},{key:"get",value:function(e,n){return this.request(e,"GET",n)}},{key:"post",value:function(e,n){return this.request(e,"POST",n)}}]),e}(),m=new l,g=function(){return m.get("/homeinfo",{})},h=function(){return m.get("/recommend",{})},v=function(e,n){return m.post("/goods",{type:e,page:n})},w=(0,o.hg)("home/info",function(){var e=(0,u.Z)((0,a.Z)().mark((function e(n,t){var r;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.dispatch,t.getState,e.next=3,g();case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),Z=(0,o.hg)("home/recommend",(0,u.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))),y=(0,o.hg)("home/goods",function(){var e=(0,u.Z)((0,a.Z)().mark((function e(n){var t,r,u;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.type,r=n.page,e.next=3,v(t,r);case 3:return u=e.sent,e.abrupt("return",{goods:u.data.goods,type:t,page:r});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),b=["specific","single"];function k(){var e={};return b.forEach((function(n){e[n]={page:0,list:[]}})),e}var x=(0,o.oM)({name:"home",initialState:{banners:[],populars:[],recommend:null,currentTabName:b[0],goodsList:k()},reducers:{setCurrentTabName:function(e,n){var t=n.payload;e.currentTabName=t}},extraReducers:function(e){e.addCase(w.fulfilled,(function(e,n){var t=n.payload;e.banners=t.adsInfo.slide_ads.config.slide||[]})).addCase(Z.fulfilled,(function(e,n){var t=n.payload;e.populars=t.populars||[],e.recommend=t.recommend||null})).addCase(y.fulfilled,(function(e,n){var t=n.payload,a=t.type,u=t.page,o=t.goods;o&&o.length&&(e.goodsList[b[a]].list=[].concat((0,r.Z)(e.goodsList[b[a]].list),(0,r.Z)(o)),e.goodsList[b[a]].page=u)}))}}),T=x.actions.setCurrentTabName,C=x.reducer}}]);